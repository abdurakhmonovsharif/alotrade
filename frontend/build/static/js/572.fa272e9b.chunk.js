"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[572],{3572:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var a=s(763),i=s(2791),r=s(9434),l=s(7689),n=s(5686),o=(s(5059),s(5593)),c=s(151),d=s(5474),u=s(6609),g=s(4313),m=s(6549),x=s(8897),h=s(7829),p=s(2106),b=s(6386),v=s(8862),f=s(5393),S=s(4373),y=s(8336),j=s(3356),w=s(8285),C=s(8096),Z=s(829),k=s(8406),I=s(3786),N=s(184);const P=()=>{var e;const t=(0,r.I0)(),s=(0,l.TH)(),P=(0,l.s0)(),O=null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.productId,{tradetypes:M}=(0,r.v9)((e=>e.trade)),{loading:z}=(0,r.v9)((e=>e.login)),{regions:W}=(0,r.v9)((e=>e.regions)),{categoriesWithSubcategories:E}=(0,r.v9)((e=>e.categories)),{categories:K,subcategories:R,subcategories2:T}=(0,r.v9)((e=>e.filter)),[U,q]=(0,i.useState)(!1),[D,F]=(0,i.useState)([]),[G,L]=(0,i.useState)(""),[V,A]=(0,i.useState)(""),[B,H]=(0,i.useState)([]),[$,_]=(0,i.useState)(""),[J,Q]=(0,i.useState)(""),[X,Y]=(0,i.useState)([]),[ee,te]=(0,i.useState)("UZS"),[se,ae]=(0,i.useState)([]),[ie,re]=(0,i.useState)([]),[le,ne]=(0,i.useState)(""),[oe,ce]=(0,i.useState)(""),[de,ue]=(0,i.useState)(null),ge=()=>{ue(null)},me=e=>{const t=e.target.name,s=e.target.value;"name"===t&&_(s),"description"===t&&Q(s),"minPrice"===t&&ne(s),"maxPrice"===t&&ce(s),ge()},xe=()=>{ge();const e={name:$,description:J,tradetypes:D,region:G.value,district:V.value,categories:K,subcategories:R,subcategories2:T,status:X,currency:ee,images:ie,minPrice:Number(le),maxPrice:Number(oe)};(0,j.w)({...e,setErrors:ue})&&t(O?(0,w.nM)({id:O,...e}):(0,w.ry)({...e})).then((e=>{let{error:s}=e;s||(O?(0,p.Ug)("\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d!","success"):(0,p.Ug)("\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!","success"),P("/profile/products"),t((0,S.K5)()))}))};return(0,i.useEffect)((()=>(O&&t((0,w.gk)({id:O})).then((e=>{let{payload:s,error:a}=e;if(a)(0,g.Z)(a.message,"error");else{const{product:e}=s;(e=>{const{tradetypes:s,region:a,district:i,categories:r,subcategories:l,subcategories2:n,status:o,currency:c,images:d,minPrice:u,maxPrice:g,name:m,description:x}=e,{districts:h}=a;m&&_(m),x&&Q(x),s&&F(s),a.label&&L(a),i.label&&A(i),h.length&&ae(h),r&&H(r[0]?r[0]:{value:""}),o&&Y(o),c&&te(c),d&&re(d),u&&ne(u),g&&ce(g),r.length>0&&(r&&t((0,S.sS)([r[0].value])),l.length>0&&t((0,S.yw)([...l.map((e=>e.value))])),n.length>0&&t((0,S.ad)([...n.map((e=>e.value))])),t((0,v.KT)({category:r[0].value})))})(e)}})),()=>{t((0,S.yw)([])),t((0,S.ad)([])),t((0,S.sS)([])),t((0,v.y$)())})),[t,O]),(0,i.useEffect)((()=>{t((0,v.tG)()),t((0,y.pq)())}),[t]),(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"py-6",children:[U&&(0,N.jsx)("div",{className:"fixed top-0 left-0 w-full h-full z-[100] bg-black bg-opacity-50 ",onClick:()=>q(!1),children:(0,N.jsx)(f.Z,{onClick:()=>q(!1),setFilterVisible:()=>q(!1),filterVisible:U})}),(0,N.jsxs)("div",{className:"container max-w-[800px]",children:[(0,N.jsx)("div",{className:"text-[28px] text-alotrade font-bold mb-3 text-center",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u0430"}),(0,N.jsx)(h.Z,{region:G,selectRegion:e=>{ge(),L(e),ae(e.districts)},selectDistrict:e=>{ge(),A(e)},district:V,districts:se,regions:W,loading:z,labelRegion:"\u0421\u0442\u0440\u0430\u043d\u0430",labelDistrict:"\u041e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 w-full items-end gap-4 justify-center",children:[(0,N.jsx)(x.Z,{notShowSub:!0,categories:B,selectCategory:e=>{const s=e.value;ge(),H(e),t((0,S.yw)([])),t((0,S.ad)([])),t((0,S.sS)([s])),t((0,v.KT)({category:s}))},categoriesWithSubcategories:E,loading:z,labelCategory:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f*",openSubcategories:()=>q(!U),kategoriya:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c..."}),(0,N.jsxs)(C.Z,{size:"small",sx:{"@media (max-width: 600px)":{width:"130px"}},children:[(0,N.jsx)(Z.Z,{shrink:!1,InputLabelProps:{shrink:!1},id:"trade-type-label",sx:{fontSize:"14px"},children:0==D.length&&"\u0422\u0438\u043f \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044f"}),(0,N.jsx)(k.Z,{multiple:!0,InputLabelProps:{shrink:!1},autoWidth:!1,sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},"&.MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{border:0},"&.MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{border:0},border:0,borderRadius:"10px",padding:0,backgroundColor:"#00C2CB4d",textAlign:"center",fontSize:"14px",fontWeight:"700",color:"#000",width:"100%",overflow:"hidden"},labelId:"trade-type-label",id:"trade-type",value:D,onChange:e=>F(e.target.value),children:M&&M.map(((e,t)=>(0,N.jsx)(I.Z,{value:e._id,children:e.name},t)))})]})]}),(0,N.jsx)(d.Z,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435*",labelStyle:"font-normal",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438\u043b\u0438 \u0443\u0441\u043b\u0443\u0433\u0438",name:"name",onChange:me,value:$}),(0,N.jsx)(c.Z,{name:"description",value:J,onChange:me,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435*",labelStyle:"font-normal",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"}),(0,N.jsxs)("div",{className:"grid grid-cols-2",children:[(0,N.jsx)(m.Z,{currency:ee,onChange:e=>{te(e.target.value),ge()},list:b.G,label:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b",name:(0,a.uniqueId)("valyuta")}),(0,N.jsx)(u.Z,{onChange:me,minPrice:le,maxPrice:oe})]}),(0,N.jsx)(o.Z,{images:ie,setImages:re}),(0,N.jsx)("div",{className:"text-sm text-red-600 font-amazonbold text-center",children:de&&de}),(0,N.jsx)("div",{className:"flex justify-center",children:(0,N.jsx)(n.Z,{title:O?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",className:"w-[200px] mt-3",onClick:xe})})]})]})})}}}]);
//# sourceMappingURL=572.fa272e9b.chunk.js.map