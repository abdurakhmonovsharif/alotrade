{"version":3,"file":"static/js/887.326974a2.chunk.js","mappings":"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","sources":["Pages/User/DetailProduct/DetailProduct.js"],"sourcesContent":["import { map, uniqueId } from \"lodash\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { MdOutlineErrorOutline } from \"react-icons/md\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport CustomSlider from \"../../../Components/CustomImgSlider/CustomSlider\";\r\nimport ProductCard from \"../../../Components/ProductCard/ProductCard\";\r\nimport useWindowSize from \"../../../hooks/useWindowSize\";\r\nimport { getProductById, getProducts } from \"../Products/productSlice\";\r\nimport DetailProductCard from \"./Components/DetailProductCard\";\r\nimport EmblaCarousel from \"../../../Components/EmblaCarousel/EmblaCarousel\";\r\n\r\nconst DetailProduct = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const { product } = useSelector((state) => state.products);\r\n  const { products } = useSelector((state) => state.products);\r\n  const { logged } = useSelector((state) => state.login);\r\n  const { width } = useWindowSize();\r\n\r\n  const [imagesForSlide, setImageForSlide] = useState([]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (product?._id) {\r\n      setImageForSlide([...product.images]);\r\n    }\r\n  }, [product, id]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setImageForSlide([]);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch(getProductById({ id }));\r\n  }, [dispatch, id]);\r\n\r\n  useEffect(() => {\r\n    const data = {\r\n      page: 0,\r\n      count: 20,\r\n      organization: product?.organization?._id,\r\n    };\r\n    dispatch(getProducts(data));\r\n    //    eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dispatch, product]);\r\n\r\n  const responsive = {\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 4,\r\n      slidesToSlide: 4, // optional, default to 1.\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n      slidesToSlide: 2, // optional, default to 1.\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 540, min: 0 },\r\n      items: 2,\r\n      slidesToSlide: 2, // optional, default to 1.\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className='w-full bg-white'>\r\n      <div className='container'>\r\n        <div className='grid grid-cols-1 md:grid-cols-3 gap-0 md:gap-4 pt-6'>\r\n          <div className='flex justify-center md:block md:col-span-2 p-0'>\r\n            {imagesForSlide.length > 0 && (\r\n              <EmblaCarousel slides={imagesForSlide} options={{}} />\r\n            )}\r\n          </div>\r\n\r\n          <div className='flex flex-col gap-5 py-8'>\r\n            <div className='flex gap-[4px]'>\r\n              <h2 className='text-[24px] md:text-[28px] font-bold text-ellipsis line-clamp-2'>\r\n                {product?.name}\r\n              </h2>\r\n            </div>\r\n            <div className='flex flex-row items-center gap-5 text-[18px] font-medium'>\r\n              <span>Цена:</span>\r\n              <h2 className='text-[30px] text-orange-500 font-bold'>\r\n                {(product?.maxPrice || \"\").toLocaleString(\"ru-RU\")}{\" \"}\r\n                {product?.currency}\r\n              </h2>\r\n            </div>\r\n            <div className='flex items-center gap-[4px] text-[14px] font-medium'>\r\n              <span>Регион:</span>\r\n              <h2 className='text-[16px] font-bold'>\r\n                {product?.region?.label}, {product?.district?.label}\r\n              </h2>\r\n            </div>\r\n            <div className='block md:hidden text-[12px] text-center mt-6 bg-teal-200 p-4 rounded-xl'>\r\n              <div className='flex justify-center'>\r\n                <MdOutlineErrorOutline size={30} />\r\n              </div>\r\n              Для уточнения условии доставки и о наличии товара обратитесь к\r\n              поставщику!\r\n            </div>\r\n            <div className='col-span-1 mt-5'>\r\n              <DetailProductCard id={id} user={product?.organization} />\r\n            </div>\r\n            {/* <div className='hidden md:block mt-6 text-center bg-teal-200 p-4 rounded-xl'>\r\n              <div className='flex justify-center'>\r\n                <MdOutlineErrorOutline size={30} />\r\n              </div>\r\n              Для уточнения условии доставки и о наличии товара обратитесь к\r\n              поставщику!\r\n            </div> */}\r\n          </div>\r\n        </div>\r\n        <div className='grid grid-cols-1 md:grid-cols-3 gap-0 md:gap-2 py-[30px]'>\r\n          <div className='col-span-2 bg-white px-2 md:px-6 md:py-2 min-h-[100px] mb-4 md:mb-0'>\r\n            <h2 className='text-[18px] md:text-[32px] font-bold'>\r\n              Описание товара\r\n            </h2>\r\n            <p className='text-[19px] md:text-[21px] whitespace-pre-wrap'>\r\n              {product?.description}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='pt-6 pb-[60px] bg-white md:px-10'>\r\n        <h2 className='text-[21px] md:text-[32px] font-bold mb-4 ml-10'>\r\n          Другие товары поставщика\r\n        </h2>\r\n        <Carousel\r\n          responsive={responsive}\r\n          sliderClass='grid h-full gap-2 md:gap-4 '\r\n          autoPlay={true}\r\n          autoPlaySpeed={3000}\r\n          removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\r\n          infinite={true}\r\n          itemClass=''\r\n        >\r\n          {map(products, (product) => (\r\n            <ProductCard\r\n              widthFull={true}\r\n              logged={logged}\r\n              key={uniqueId()}\r\n              product={product}\r\n              isProductPage={true}\r\n            />\r\n          ))}\r\n        </Carousel>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailProduct;\r\n"],"names":["id","useParams","dispatch","useDispatch","product","useLocation","useSelector","state","products","logged","login","useWindowSize","width","useState","imagesForSlide","setImageForSlide","useEffect","window","scrollTo","_id","images","getProductById","data","page","count","organization","getProducts","className","length","slides","options","name","maxPrice","toLocaleString","currency","region","label","district","size","user","description","responsive","desktop","breakpoint","max","min","items","slidesToSlide","tablet","mobile","sliderClass","autoPlay","autoPlaySpeed","removeArrowOnDeviceType","infinite","itemClass","map","widthFull","isProductPage","uniqueId"],"sourceRoot":""}