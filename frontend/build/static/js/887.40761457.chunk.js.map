{"version":3,"file":"static/js/887.40761457.chunk.js","mappings":"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","sources":["Pages/User/DetailProduct/DetailProduct.js"],"sourcesContent":["import { map, uniqueId } from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport { MdOutlineErrorOutline } from \"react-icons/md\";\nimport Carousel from \"react-multi-carousel\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport CustomSlider from \"../../../Components/CustomImgSlider/CustomSlider\";\nimport ProductCard from \"../../../Components/ProductCard/ProductCard\";\nimport useWindowSize from \"../../../hooks/useWindowSize\";\nimport { getProductById, getProducts } from \"../Products/productSlice\";\nimport DetailProductCard from \"./Components/DetailProductCard\";\nimport EmblaCarousel from \"../../../Components/EmblaCarousel/EmblaCarousel\";\n\nconst DetailProduct = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const { product } = useSelector((state) => state.products);\n  const { products } = useSelector((state) => state.products);\n  const { logged } = useSelector((state) => state.login);\n  const { width } = useWindowSize();\n\n  const [imagesForSlide, setImageForSlide] = useState([]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [id]);\n\n  useEffect(() => {\n    if (product?._id) {\n      setImageForSlide([...product.images]);\n    }\n  }, [product, id]);\n\n  useEffect(() => {\n    return () => {\n      setImageForSlide([]);\n    };\n  }, []);\n\n  useEffect(() => {\n    dispatch(getProductById({ id }));\n  }, [dispatch, id]);\n\n  useEffect(() => {\n    const data = {\n      page: 0,\n      count: 20,\n      organization: product?.organization?._id,\n    };\n    dispatch(getProducts(data));\n    //    eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, product]);\n\n  const responsive = {\n    desktop: {\n      breakpoint: { max: 3000, min: 1024 },\n      items: 4,\n      slidesToSlide: 4, // optional, default to 1.\n    },\n    tablet: {\n      breakpoint: { max: 1024, min: 464 },\n      items: 2,\n      slidesToSlide: 2, // optional, default to 1.\n    },\n    mobile: {\n      breakpoint: { max: 540, min: 0 },\n      items: 2,\n      slidesToSlide: 2, // optional, default to 1.\n    },\n  };\n\n  return (\n    <div className='w-full bg-white'>\n      <div className='container'>\n        <div className='grid grid-cols-1 md:grid-cols-3 gap-0 md:gap-4 pt-6'>\n          <div className='flex justify-center md:block md:col-span-2 p-0'>\n            {imagesForSlide.length > 0 && (\n              <EmblaCarousel slides={imagesForSlide} options={{}} />\n            )}\n          </div>\n\n          <div className='flex flex-col gap-5 py-8'>\n            <div className='flex gap-[4px]'>\n              <h2 className='text-[24px] md:text-[28px] font-bold text-ellipsis line-clamp-2'>\n                {product?.name}\n              </h2>\n            </div>\n            <div className='flex flex-row items-center gap-5 text-[18px] font-medium'>\n              <span>Цена:</span>\n              <h2 className='text-[30px] text-orange-500 font-bold'>\n                {(product?.maxPrice || \"\").toLocaleString(\"ru-RU\")}{\" \"}\n                {product?.currency}\n              </h2>\n            </div>\n            <div className='flex items-center gap-[4px] text-[14px] font-medium'>\n              <span>Регион:</span>\n              <h2 className='text-[16px] font-bold'>\n                {product?.region?.label}, {product?.district?.label}\n              </h2>\n            </div>\n            <div className='block md:hidden text-[12px] text-center mt-6 bg-teal-200 p-4 rounded-xl'>\n              <div className='flex justify-center'>\n                <MdOutlineErrorOutline size={30} />\n              </div>\n              Для уточнения условии доставки и о наличии товара обратитесь к\n              поставщику!\n            </div>\n            <div className='col-span-1 mt-5'>\n              <DetailProductCard id={id} user={product?.organization} />\n            </div>\n            {/* <div className='hidden md:block mt-6 text-center bg-teal-200 p-4 rounded-xl'>\n              <div className='flex justify-center'>\n                <MdOutlineErrorOutline size={30} />\n              </div>\n              Для уточнения условии доставки и о наличии товара обратитесь к\n              поставщику!\n            </div> */}\n          </div>\n        </div>\n        <div className='grid grid-cols-1 md:grid-cols-3 gap-0 md:gap-2 py-[30px]'>\n          <div className='col-span-2 bg-white px-2 md:px-6 md:py-2 min-h-[100px] mb-4 md:mb-0'>\n            <h2 className='text-[18px] md:text-[32px] font-bold'>\n              Описание товара\n            </h2>\n            <p className='text-[19px] md:text-[21px] whitespace-pre-wrap'>\n              {product?.description}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className='pt-6 pb-[60px] bg-white md:px-10'>\n        <h2 className='text-[21px] md:text-[32px] font-bold mb-4 ml-10'>\n          Другие товары поставщика\n        </h2>\n        <Carousel\n          responsive={responsive}\n          sliderClass='grid h-full gap-2 md:gap-4 '\n          autoPlay={true}\n          autoPlaySpeed={3000}\n          removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\n          infinite={true}\n          itemClass=''\n        >\n          {map(products, (product) => (\n            <ProductCard\n              widthFull={true}\n              logged={logged}\n              key={uniqueId()}\n              product={product}\n              isProductPage={true}\n            />\n          ))}\n        </Carousel>\n      </div>\n    </div>\n  );\n};\n\nexport default DetailProduct;\n"],"names":["id","useParams","dispatch","useDispatch","product","useLocation","useSelector","state","products","logged","login","width","useWindowSize","imagesForSlide","setImageForSlide","useState","useEffect","window","scrollTo","_id","images","getProductById","data","page","count","organization","getProducts","className","length","slides","options","name","maxPrice","toLocaleString","currency","region","label","district","size","user","description","responsive","desktop","breakpoint","max","min","items","slidesToSlide","tablet","mobile","sliderClass","autoPlay","autoPlaySpeed","removeArrowOnDeviceType","infinite","itemClass","map","widthFull","isProductPage","uniqueId"],"sourceRoot":""}