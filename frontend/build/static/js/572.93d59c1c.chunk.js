"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[572],{83572:function(e,t,n){n.r(t);var i=n(1413),r=n(93433),a=n(29439),s=n(763),l=n(72791),u=n(59434),o=n(57689),c=n(15686),d=(n(85059),n(95593)),g=n(10151),f=n(95474),m=n(46609),x=n(84341),h=n(6549),p=n(38897),b=n(7829),v=n(12106),Z=n(16386),S=n(98862),y=n(75393),j=n(54373),w=n(98336),C=n(93356),k=n(98285),I=n(68096),N=n(30829),P=n(58406),O=n(23786),M=n(80184);t.default=function(){var e,t=(0,u.I0)(),n=(0,o.TH)(),z=(0,o.s0)(),W=null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.productId,E=(0,u.v9)((function(e){return e.trade})).tradetypes,K=(0,u.v9)((function(e){return e.login})).loading,R=(0,u.v9)((function(e){return e.regions})).regions,T=(0,u.v9)((function(e){return e.categories})).categoriesWithSubcategories,U=(0,u.v9)((function(e){return e.filter})),q=U.categories,D=U.subcategories,F=U.subcategories2,G=(0,l.useState)(!1),L=(0,a.Z)(G,2),V=L[0],A=L[1],B=(0,l.useState)([]),H=(0,a.Z)(B,2),$=H[0],_=H[1],J=(0,l.useState)(""),Q=(0,a.Z)(J,2),X=Q[0],Y=Q[1],ee=(0,l.useState)(""),te=(0,a.Z)(ee,2),ne=te[0],ie=te[1],re=(0,l.useState)([]),ae=(0,a.Z)(re,2),se=ae[0],le=ae[1],ue=(0,l.useState)(""),oe=(0,a.Z)(ue,2),ce=oe[0],de=oe[1],ge=(0,l.useState)(""),fe=(0,a.Z)(ge,2),me=fe[0],xe=fe[1],he=(0,l.useState)([]),pe=(0,a.Z)(he,2),be=pe[0],ve=pe[1],Ze=(0,l.useState)("UZS"),Se=(0,a.Z)(Ze,2),ye=Se[0],je=Se[1],we=(0,l.useState)([]),Ce=(0,a.Z)(we,2),ke=Ce[0],Ie=Ce[1],Ne=(0,l.useState)([]),Pe=(0,a.Z)(Ne,2),Oe=Pe[0],Me=Pe[1],ze=(0,l.useState)(""),We=(0,a.Z)(ze,2),Ee=We[0],Ke=We[1],Re=(0,l.useState)(""),Te=(0,a.Z)(Re,2),Ue=Te[0],qe=Te[1],De=(0,l.useState)(null),Fe=(0,a.Z)(De,2),Ge=Fe[0],Le=Fe[1],Ve=function(){Le(null)},Ae=function(e){var t=e.target.name,n=e.target.value;"name"===t&&de(n),"description"===t&&xe(n),"minPrice"===t&&Ke(n),"maxPrice"===t&&qe(n),Ve()},Be=function(){Ve();var e={name:ce,description:me,tradetypes:$,region:X.value,district:ne.value,categories:q,subcategories:D,subcategories2:F,status:be,currency:ye,images:Oe,minPrice:Number(Ee),maxPrice:Number(Ue)};(0,C.w)((0,i.Z)((0,i.Z)({},e),{},{setErrors:Le}))&&t(W?(0,k.nM)((0,i.Z)({id:W},e)):(0,k.ry)((0,i.Z)({},e))).then((function(e){e.error||(W?(0,v.Ug)("\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d!","success"):(0,v.Ug)("\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!","success"),z("/profile/products"),t((0,j.K5)()))}))};return(0,l.useEffect)((function(){return W&&t((0,k.gk)({id:W})).then((function(e){var n=e.payload,i=e.error;i?(0,x.Z)(i.message,"error"):function(e){var n=e.tradetypes,i=e.region,a=e.district,s=e.categories,l=e.subcategories,u=e.subcategories2,o=e.status,c=e.currency,d=e.images,g=e.minPrice,f=e.maxPrice,m=e.name,x=e.description,h=i.districts;m&&de(m),x&&xe(x),n&&_(n),i.label&&Y(i),a.label&&ie(a),h.length&&Ie(h),s&&le(s[0]?s[0]:{value:""}),o&&ve(o),c&&je(c),d&&Me(d),g&&Ke(g),f&&qe(f),s.length>0&&(s&&t((0,j.sS)([s[0].value])),l.length>0&&t((0,j.yw)((0,r.Z)(l.map((function(e){return e.value}))))),u.length>0&&t((0,j.ad)((0,r.Z)(u.map((function(e){return e.value}))))),t((0,S.KT)({category:s[0].value})))}(n.product)})),function(){t((0,j.yw)([])),t((0,j.ad)([])),t((0,j.sS)([])),t((0,S.y$)())}}),[t,W]),(0,l.useEffect)((function(){t((0,S.tG)()),t((0,w.pq)())}),[t]),(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{className:"py-6",children:[V&&(0,M.jsx)("div",{className:"fixed top-0 left-0 w-full h-full z-[100] bg-black bg-opacity-50 ",onClick:function(){return A(!1)},children:(0,M.jsx)(y.Z,{onClick:function(){return A(!1)},setFilterVisible:function(){return A(!1)},filterVisible:V})}),(0,M.jsxs)("div",{className:"container max-w-[800px]",children:[(0,M.jsx)("div",{className:"text-[28px] text-alotrade font-bold mb-3 text-center",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u0430"}),(0,M.jsx)(b.Z,{region:X,selectRegion:function(e){Ve(),Y(e),Ie(e.districts)},selectDistrict:function(e){Ve(),ie(e)},district:ne,districts:ke,regions:R,loading:K,labelRegion:"\u0421\u0442\u0440\u0430\u043d\u0430",labelDistrict:"\u041e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,M.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 w-full items-end gap-4 justify-center",children:[(0,M.jsx)(p.Z,{notShowSub:!0,categories:se,selectCategory:function(e){var n=e.value;Ve(),le(e),t((0,j.yw)([])),t((0,j.ad)([])),t((0,j.sS)([n])),t((0,S.KT)({category:n}))},categoriesWithSubcategories:T,loading:K,labelCategory:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f*",openSubcategories:function(){return A(!V)},kategoriya:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c..."}),(0,M.jsxs)(I.Z,{size:"small",sx:{"@media (max-width: 600px)":{width:"130px"}},children:[(0,M.jsx)(N.Z,{shrink:!1,InputLabelProps:{shrink:!1},id:"trade-type-label",sx:{fontSize:"14px"},children:0==$.length&&"\u0422\u0438\u043f \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044f"}),(0,M.jsx)(P.Z,{multiple:!0,InputLabelProps:{shrink:!1},autoWidth:!1,sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},"&.MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{border:0},"&.MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{border:0},border:0,borderRadius:"10px",padding:0,backgroundColor:"#00C2CB4d",textAlign:"center",fontSize:"14px",fontWeight:"700",color:"#000",width:"100%",overflow:"hidden"},labelId:"trade-type-label",id:"trade-type",value:$,onChange:function(e){return _(e.target.value)},children:E&&E.map((function(e,t){return(0,M.jsx)(O.Z,{value:e._id,children:e.name},t)}))})]})]}),(0,M.jsx)(f.Z,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435*",labelStyle:"font-normal",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438\u043b\u0438 \u0443\u0441\u043b\u0443\u0433\u0438",name:"name",onChange:Ae,value:ce}),(0,M.jsx)(g.Z,{name:"description",value:me,onChange:Ae,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435*",labelStyle:"font-normal",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"}),(0,M.jsxs)("div",{className:"grid grid-cols-2",children:[(0,M.jsx)(h.Z,{currency:ye,onChange:function(e){je(e.target.value),Ve()},list:Z.G,label:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b",name:(0,s.uniqueId)("valyuta")}),(0,M.jsx)(m.Z,{onChange:Ae,minPrice:Ee,maxPrice:Ue})]}),(0,M.jsx)(d.Z,{images:Oe,setImages:Me}),(0,M.jsx)("div",{className:"text-sm text-red-600 font-amazonbold text-center",children:Ge&&Ge}),(0,M.jsx)("div",{className:"flex justify-center",children:(0,M.jsx)(c.Z,{title:W?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",className:"w-[200px] mt-3",onClick:Be})})]})]})})}}}]);
//# sourceMappingURL=572.93d59c1c.chunk.js.map