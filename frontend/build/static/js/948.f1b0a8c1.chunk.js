"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[948],{82948:function(e,t,n){n.r(t);var i=n(1413),r=(n(93433),n(29439)),s=n(763),a=n(72791),c=n(59434),l=n(57689),o=n(15686),u=(n(85059),n(95593)),d=n(10151),f=n(95474),g=n(46609),m=n(84341),x=n(6549),v=n(38897),b=n(7829),Z=n(12106),S=n(16386),h=n(98862),p=n(75393),j=n(54373),y=n(98336),C=n(1546),N=n(96691),k=n(80184);t.default=function(){var e,t=(0,c.I0)(),n=(0,l.TH)(),P=(0,l.s0)(),w=null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.orderId,I=((0,c.v9)((function(e){return e.trade})).tradetypes,(0,c.v9)((function(e){return e.login})).loading),E=(0,c.v9)((function(e){return e.regions})).regions,G=(0,c.v9)((function(e){return e.categories})).categoriesWithSubcategories,V=(0,c.v9)((function(e){return e.filter})),q=(V.categories,V.subcategories,V.subcategories2,(0,a.useState)(!1)),z=(0,r.Z)(q,2),D=z[0],F=z[1],H=(0,a.useState)([]),R=(0,r.Z)(H,2),U=R[0],W=R[1],K=(0,a.useState)(""),L=(0,r.Z)(K,2),M=L[0],T=L[1],$=(0,a.useState)(""),A=(0,r.Z)($,2),B=A[0],J=A[1],O=(0,a.useState)([]),Q=(0,r.Z)(O,2),X=Q[0],Y=Q[1],_=(0,a.useState)(""),ee=(0,r.Z)(_,2),te=ee[0],ne=ee[1],ie=(0,a.useState)(""),re=(0,r.Z)(ie,2),se=re[0],ae=re[1],ce=(0,a.useState)([]),le=(0,r.Z)(ce,2),oe=le[0],ue=le[1],de=(0,a.useState)("UZS"),fe=(0,r.Z)(de,2),ge=fe[0],me=fe[1],xe=(0,a.useState)([]),ve=(0,r.Z)(xe,2),be=ve[0],Ze=ve[1],Se=(0,a.useState)([]),he=(0,r.Z)(Se,2),pe=he[0],je=he[1],ye=(0,a.useState)(""),Ce=(0,r.Z)(ye,2),Ne=Ce[0],ke=Ce[1],Pe=(0,a.useState)(""),we=(0,r.Z)(Pe,2),Ie=we[0],Ee=we[1],Ge=(0,a.useState)(null),Ve=(0,r.Z)(Ge,2),qe=Ve[0],ze=Ve[1],De=function(){ze(null)},Fe=function(e){var t=e.target.name,n=e.target.value;"name"===t&&ne(n),"description"===t&&ae(n),"minPrice"===t&&ke(n),"maxPrice"===t&&Ee(n),De()},He=function(){De();var e={name:te,description:se,tradetypes:U,region:M.value,district:B.value,categories:X.map((function(e){return e.value})),status:oe,currency:ge,images:pe,minPrice:Number(Ne),maxPrice:Number(Ie)};(0,C.f)((0,i.Z)((0,i.Z)({},e),{},{setErrors:ze}))&&t(w?(0,N.Cs)((0,i.Z)({id:w},e)):(0,N.LV)((0,i.Z)({},e))).then((function(e){e.error||((0,Z.Ug)("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!","success"),P("/profile/orders"),t((0,j.K5)()))}))};return(0,a.useEffect)((function(){return w&&t((0,N.HG)({id:w})).then((function(e){var n=e.payload,i=e.error;if(i)(0,m.Z)(i.message,"error");else{n.order;!function(e){var n=e.tradetypes,i=e.region,r=e.district,s=e.categories,a=(e.subcategories,e.subcategories2,e.status),c=e.currency,l=e.images,o=e.minPrice,u=e.maxPrice,d=e.name,f=e.description,g=i.districts;d&&ne(d),f&&ae(f),n&&W(n),i.label&&T(i),r.label&&J(r),g.length&&Ze(g),s&&Y(s),a&&ue(a),c&&me(c),l&&je(l),o&&ke(o),u&&Ee(u),s&&t((0,j.sS)([s[0].value]))}(n)}})),function(){t((0,j.sS)([])),t((0,h.y$)())}}),[t,w]),(0,a.useEffect)((function(){t((0,h.tG)()),t((0,y.pq)())}),[t]),(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"py-6",children:[D&&(0,k.jsx)("div",{className:"fixed top-0 left-0 w-full h-full z-[100] bg-black bg-opacity-50 ",onClick:function(){return F(!1)},children:(0,k.jsx)(p.Z,{onClick:function(){return F(!1)},setFilterVisible:function(){return F(!1)},filterVisible:D})}),(0,k.jsxs)("div",{className:"container max-w-[800px]",children:[(0,k.jsx)("div",{className:"text-[28px] text-alotrade font-bold mb-3 text-center",children:"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"}),(0,k.jsx)(b.Z,{region:M,selectRegion:function(e){De(),T(e),Ze(e.districts)},selectDistrict:function(e){De(),J(e)},district:B,districts:be,regions:E,loading:I,labelRegion:"\u0421\u0442\u0440\u0430\u043d\u0430",labelDistrict:"\u041e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,k.jsx)(v.Z,{isMulti:!0,notShowSub:!0,categories:X,selectCategory:function(e){var n=e.value;De(),Y(e),t((0,j.sS)([n]))},categoriesWithSubcategories:G,loading:I,labelCategory:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f*",openSubcategories:function(){return F(!D)},kategoriya:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c..."}),(0,k.jsx)(f.Z,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435*",labelStyle:"font-normal",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438\u043b\u0438 \u0443\u0441\u043b\u0443\u0433\u0438",name:"name",onChange:Fe,value:te}),(0,k.jsx)(d.Z,{name:"description",value:se,onChange:Fe,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435*",labelStyle:"font-normal",placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),(0,k.jsxs)("div",{className:"grid grid-cols-2",children:[(0,k.jsx)(x.Z,{currency:ge,onChange:function(e){me(e.target.value),De()},list:S.G,label:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b",name:(0,s.uniqueId)("valyuta")}),(0,k.jsx)(g.Z,{onChange:Fe,minPrice:Ne,maxPrice:Ie})]}),(0,k.jsx)(u.Z,{images:pe,setImages:je}),(0,k.jsx)("div",{className:"text-sm text-red-600 font-amazonbold text-center",children:qe&&qe}),(0,k.jsx)("div",{className:"flex justify-center",children:(0,k.jsx)(o.Z,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",className:"w-[200px] mt-3",onClick:He})})]})]})})}}}]);
//# sourceMappingURL=948.f1b0a8c1.chunk.js.map