"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[948],{2948:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var a=s(763),i=s(2791),r=s(9434),l=s(7689),n=s(5686),c=(s(5059),s(5593)),o=s(151),u=s(5474),d=s(6609),g=s(4313),m=s(6549),x=s(8897),b=s(7829),v=s(2106),S=s(6386),f=s(8862),h=s(5393),p=s(4373),j=s(8336),y=s(1546),C=s(6691),Z=s(184);const N=()=>{var e;const t=(0,r.I0)(),s=(0,l.TH)(),N=(0,l.s0)(),k=null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.orderId,{tradetypes:P}=(0,r.v9)((e=>e.trade)),{loading:w}=(0,r.v9)((e=>e.login)),{regions:I}=(0,r.v9)((e=>e.regions)),{categoriesWithSubcategories:E}=(0,r.v9)((e=>e.categories)),{categories:G,subcategories:V,subcategories2:q}=(0,r.v9)((e=>e.filter)),[z,D]=(0,i.useState)(!1),[F,H]=(0,i.useState)([]),[R,U]=(0,i.useState)(""),[W,K]=(0,i.useState)(""),[L,M]=(0,i.useState)([]),[T,$]=(0,i.useState)(""),[A,B]=(0,i.useState)(""),[J,O]=(0,i.useState)([]),[Q,X]=(0,i.useState)("UZS"),[Y,_]=(0,i.useState)([]),[ee,te]=(0,i.useState)([]),[se,ae]=(0,i.useState)(""),[ie,re]=(0,i.useState)(""),[le,ne]=(0,i.useState)(null),ce=()=>{ne(null)},oe=e=>{const t=e.target.name,s=e.target.value;"name"===t&&$(s),"description"===t&&B(s),"minPrice"===t&&ae(s),"maxPrice"===t&&re(s),ce()},ue=()=>{ce();const e={name:T,description:A,tradetypes:F,region:R.value,district:W.value,categories:L.map((e=>e.value)),status:J,currency:Q,images:ee,minPrice:Number(se),maxPrice:Number(ie)};(0,y.f)({...e,setErrors:ne})&&t(k?(0,C.Cs)({id:k,...e}):(0,C.LV)({...e})).then((e=>{let{error:s}=e;s||((0,v.Ug)("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!","success"),N("/profile/orders"),t((0,p.K5)()))}))};return(0,i.useEffect)((()=>(k&&t((0,C.HG)({id:k})).then((e=>{let{payload:s,error:a}=e;if(a)(0,g.Z)(a.message,"error");else{const{order:e}=s;(e=>{const{tradetypes:s,region:a,district:i,categories:r,subcategories:l,subcategories2:n,status:c,currency:o,images:u,minPrice:d,maxPrice:g,name:m,description:x}=e,{districts:b}=a;m&&$(m),x&&B(x),s&&H(s),a.label&&U(a),i.label&&K(i),b.length&&_(b),r&&M(r),c&&O(c),o&&X(o),u&&te(u),d&&ae(d),g&&re(g),r&&t((0,p.sS)([r[0].value]))})(s)}})),()=>{t((0,p.sS)([])),t((0,f.y$)())})),[t,k]),(0,i.useEffect)((()=>{t((0,f.tG)()),t((0,j.pq)())}),[t]),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"py-6",children:[z&&(0,Z.jsx)("div",{className:"fixed top-0 left-0 w-full h-full z-[100] bg-black bg-opacity-50 ",onClick:()=>D(!1),children:(0,Z.jsx)(h.Z,{onClick:()=>D(!1),setFilterVisible:()=>D(!1),filterVisible:z})}),(0,Z.jsxs)("div",{className:"container max-w-[800px]",children:[(0,Z.jsx)("div",{className:"text-[28px] text-alotrade font-bold mb-3 text-center",children:"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"}),(0,Z.jsx)(b.Z,{region:R,selectRegion:e=>{ce(),U(e),_(e.districts)},selectDistrict:e=>{ce(),K(e)},district:W,districts:Y,regions:I,loading:w,labelRegion:"\u0421\u0442\u0440\u0430\u043d\u0430",labelDistrict:"\u041e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,Z.jsx)(x.Z,{isMulti:!0,notShowSub:!0,categories:L,selectCategory:e=>{const s=e.value;ce(),M(e),t((0,p.sS)([s]))},categoriesWithSubcategories:E,loading:w,labelCategory:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f*",openSubcategories:()=>D(!z),kategoriya:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c..."}),(0,Z.jsx)(u.Z,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435*",labelStyle:"font-normal",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438\u043b\u0438 \u0443\u0441\u043b\u0443\u0433\u0438",name:"name",onChange:oe,value:T}),(0,Z.jsx)(o.Z,{name:"description",value:A,onChange:oe,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435*",labelStyle:"font-normal",placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),(0,Z.jsxs)("div",{className:"grid grid-cols-2",children:[(0,Z.jsx)(m.Z,{currency:Q,onChange:e=>{X(e.target.value),ce()},list:S.G,label:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b",name:(0,a.uniqueId)("valyuta")}),(0,Z.jsx)(d.Z,{onChange:oe,minPrice:se,maxPrice:ie})]}),(0,Z.jsx)(c.Z,{images:ee,setImages:te}),(0,Z.jsx)("div",{className:"text-sm text-red-600 font-amazonbold text-center",children:le&&le}),(0,Z.jsx)("div",{className:"flex justify-center",children:(0,Z.jsx)(n.Z,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",className:"w-[200px] mt-3",onClick:ue})})]})]})})}}}]);
//# sourceMappingURL=948.b798a5a2.chunk.js.map