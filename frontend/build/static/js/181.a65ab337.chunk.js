"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[181],{2091:function(e,t,i){var n=i(29439),s=i(72791),o=(i(26074),i(36938),i(59434)),r=i(57689),a=i(57621),l=i(9585),d=i(93044),u=i(13400),c=i(39504),x=i(20890),p=i(84341),f=i(80184);t.Z=function(e){var t=e.order,i=e.logged,m=(0,s.useState)(!1),g=(0,n.Z)(m,2),v=g[0],h=g[1],b=(0,r.s0)(),j=(0,o.v9)((function(e){return e.login})).userData,w=(t.region,t.name),y=t.description,Z=(t.images,t.position,t.user),S=t.createdAt,k=t.organization;t.isImg,k?null===k||void 0===k||k.phone:null===Z||void 0===Z||Z.phone,null===j||void 0===j||j.organization;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"w-full h-full cursor-pointer",onClick:function(){i?b("/orders/".concat(t._id)):h(!0)},children:(0,f.jsx)("div",{className:"w-full h-full",children:(0,f.jsxs)(a.Z,{sx:{height:"100%",position:"relative",borderRadius:"18px",width:"100%",boxShadow:"2px 2px 25px 1px rgba(0, 0, 0, 0.1)"},variant:"outlined",children:[(0,f.jsx)("div",{class:"absolute text-[10px] md:text-[16px] top-0 right-0 bg-green-500 shadow-lg text-white cursor-pointer px-3 text-center justify-center items-center py-1 rounded-lg flex space-x-2 flex-row",children:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e"}),(0,f.jsx)(l.Z,{sx:{paddingY:"13px","@media (max-width: 600px)":{paddingY:"5px"},borderBottom:"1px solid #eee"},avatar:(0,f.jsx)(d.Z,{sx:{"@media (max-width: 600px)":{width:"25px",height:"25px"}},src:k?null===k||void 0===k?void 0:k.image:null===Z||void 0===Z?void 0:Z.image,"aria-label":"recipe"}),action:(0,f.jsx)(u.Z,{"aria-label":"like"}),title:(0,f.jsxs)("div",{className:"flex flex-col items-star leading-4 md:leading-5 pt-1",children:[(0,f.jsx)("span",{className:"text-[14px] md:text-[16px] font-bold",children:k?null===k||void 0===k?void 0:k.name:(null===Z||void 0===Z?void 0:Z.firstname)+" "+(null===Z||void 0===Z?void 0:Z.lastname)}),(0,f.jsxs)("span",{className:"text-[11px] md:text-[12px] font-semibold",children:[" ",new Date(S).toLocaleDateString()]})]})}),(0,f.jsxs)(c.Z,{sx:{"@media (max-width: 600px)":{paddingTop:"2px",paddingX:"20px"},paddingTop:"8px",paddingX:"30px",paddingBottom:"2px"},children:[(0,f.jsx)(x.Z,{sx:{marginTop:"4px",fontFamily:"'Rubik', sans-serif",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",fontSize:"18px","@media (max-width: 600px)":{fontSize:"14px",WebkitLineClamp:"1"},fontWeight:"600"},gutterBottom:!0,component:"div",children:w}),(0,f.jsx)(x.Z,{variant:"body2",color:"text.secondary",sx:{fontFamily:"'Rubik', sans-serif",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:"3",WebkitBoxOrient:"vertical",fontSize:"14px","@media (max-width: 600px)":{fontSize:"12px",WebkitLineClamp:"2"},fontWeight:"400"},children:y})]})]})})}),(0,f.jsx)(p.Z,{body:"warningSignIn",isOpen:v,closeModal:function(){return h(!1)},toggleModal:function(){return h(!1)}})]})}},83633:function(e,t,i){i.r(t),i.d(t,{default:function(){return M}});var n=i(74165),s=i(15861),o=i(29439),r=i(72791),a=i(84341),l=i(59434),d=i(57689),u=i(27472),c=i(54373),x=i(93433),p=i(36151),f=i(11087),m=i(94397),g=i(93347),v=i(34948),h=i(80184),b=function(){var e=(0,d.s0)(),t=(0,l.I0)(),i=(0,d.TH)(),n=(0,l.v9)((function(e){return e.login})),s=n.logged,u=n.userData,c=u.user,b=u.organization,j=(0,m.Z)().width,w=(0,r.useState)([]),y=(0,o.Z)(w,2),Z=(y[0],y[1],(0,l.v9)((function(e){return e.anns})).anns),S=(0,l.v9)((function(e){return e.filter})),k=S.product,N=S.categories,O=S.subcategories,C=S.subcategories2,I=S.tradetypes,W=S.regions,M=S.districts,T=S.name,_=(0,r.useState)(null),z=(0,o.Z)(_,2),D=(z[0],z[1]),E=(0,r.useState)(0),A=(0,o.Z)(E,2),B=A[0],L=A[1],U=(0,r.useState)(0),F=(0,o.Z)(U,2),P=F[0],q=F[1],R=(0,r.useState)(j<720?10:15),X=(0,o.Z)(R,2),Y=X[0],V=X[1],G=(0,r.useState)(!1),H=(0,o.Z)(G,2),K=H[0],$=H[1],J=(0,r.useState)(!1),Q=(0,o.Z)(J,2),ee=Q[0],te=Q[1],ie=(0,r.useState)(null),ne=(0,o.Z)(ie,2),se=(ne[0],ne[1]),oe=(0,r.useState)(!1),re=(0,o.Z)(oe,2),ae=(re[0],re[1],(0,r.useState)(null)),le=(0,o.Z)(ae,2);le[0],le[1];return(0,r.useEffect)((function(){var e,n,s=null===i||void 0===i||null===(e=i.state)||void 0===e||null===(n=e.category)||void 0===n?void 0:n.value,o={page:0,count:Y+P*(j<720?10:15),post:"all",categories:[],subcategories:[],subcategories2:[],tradetypes:[],regions:[],districts:[],user:null===c||void 0===c?void 0:c._id,name:T};s&&(o.categories=[].concat((0,x.Z)(N),[s])),t((0,v.oY)(o)),t((0,v.pz)(o)).then((function(e){var t=e.payload.totalCount;e.error||L(t)}))}),[t,k,P,Y,N,O,C,I,W,M,c,T,j]),(0,r.useEffect)((function(){V(j<720?10:15)}),[j]),(0,r.useEffect)((function(){t((0,v.sq)())}),[t]),(0,h.jsxs)("div",{className:"flex flex-col w-full py-5 md:py-5",children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 items-center w-full px-3 sm:px-0",children:[(0,h.jsx)("button",{onClick:function(){var t;s?null!==b&&void 0!==b&&b.is_active?e("/create_announcement"):te(!0):(se(t),$(!0),D(null))},className:"hidden sm:flex uppercase shadow md:ml-0 w-fit h-fit bg-alotrade hover:bg-alotrade/80 focus:shadow-outline focus:outline-none text-white md:text-xs text-[10px] py-2 md:px-10 px-4 rounded",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0420\u0435\u043a\u043b\u0430\u043c\u0443"}),(0,h.jsx)("h2",{className:"md:text-[36px] text-[16px] font-bold justify-self-start sm:justify-self-center",children:"\u0420\u0415\u041a\u041b\u0410\u041c\u042b"}),(0,h.jsx)(f.rU,{to:"/announcements",className:"block uppercase shadow md:ml-0 justify-self-end w-fit h-fit  bg-orange-500 hover:bg-orange-400 focus:shadow-outline focus:outline-none text-white md:text-xs text-[10px] py-2 md:px-10 px-4 rounded",children:"\u0412\u0441\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u044b"})]}),(0,h.jsx)("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 items-center justify-center md:gap-2 my-5 px-[-60px] md:px-0",children:Z&&(null===Z||void 0===Z?void 0:Z.map((function(e,t){return(0,h.jsx)(g.Z,{ann:e},null===e||void 0===e?void 0:e._id)})))}),(0,h.jsx)("div",{className:"flex justify-center items-center w-full py-2",children:Math.ceil(B/Y)!=P+1&&(0,h.jsx)(p.Z,{color:"alotrade",variant:"contained",onClick:function(){return q(P+1)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"})}),(0,h.jsx)(a.Z,{body:"warningSignIn",isOpen:K,typeOfWarning:"user",closeModal:function(){return $(!1)}}),(0,h.jsx)(a.Z,{body:"warningOrg",isOpen:ee,closeModal:function(){return te(!1)},toggleModal:function(){return te(!1)}})]})},j=(i.p,i(16442),i(13771),i(44017),i(96766)),w=function(e){var t,i=e.bgImgs;return(0,h.jsx)("div",{children:i&&(0,h.jsx)(j.default,{responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:1,slidesToSlide:1},tablet:{breakpoint:{max:1024,min:464},items:1,slidesToSlide:1},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}},autoPlay:!0,infinite:!0,autoPlaySpeed:3e3,removeArrowOnDeviceType:["tablet","mobile"],children:i&&(null===i||void 0===i||null===(t=i.filter((function(e){return e.name})))||void 0===t?void 0:t.map((function(e,t){return(0,h.jsx)("div",{className:"w-[100%] h-[200px] md:h-[500px] p-2 md:p-5 rounded-lg overflow-hidden",children:(0,h.jsx)("img",{src:e.image,alt:"bg",className:"w-full h-full object-cover rounded-3xl"})},t)})))})})},y=i(96691),Z=i(763),S=i(33168),k=i(19169),N=(i(65141),i(2091)),O=function(){var e=(0,d.s0)(),t=(0,l.I0)(),i=(0,S.$)(["common"]).t,n=(0,k.F)(i),s=(0,l.v9)((function(e){return e.orders})).orders,u=(0,l.v9)((function(e){return e.filter})),c=u.order,x=u.categories,p=u.subcategories,m=u.tradetypes,g=u.regions,v=u.districts,b=u.name,w=(0,l.v9)((function(e){return e.login})),O=w.logged,C=w.userData,I=(0,r.useState)(0),W=(0,o.Z)(I,2),M=W[0],T=W[1],_=(0,r.useState)(0),z=(0,o.Z)(_,2),D=(z[0],z[1]),E=C.user,A=C.organization,B=(0,r.useState)(!1),L=(0,o.Z)(B,2),U=L[0],F=L[1],P=(0,r.useState)(!1),q=(0,o.Z)(P,2),R=q[0],X=q[1];return(0,r.useEffect)((function(){var e={page:0,count:4,order:c,categories:[],subcategories:[],tradetypes:[],regions:[],districts:[],user:null===E||void 0===E?void 0:E._id,name:b};T(0),t((0,y.AU)(e)),t((0,y.W3)(e)).then((function(e){var t=e.error,i=e.payload.totalCount;t||D(i)}))}),[t,c,x,p,m,g,v,E,b]),(0,r.useEffect)((function(){var e={page:M,count:10,order:c,categories:x,subcategories:p,tradetypes:m,regions:g,districts:v,user:null===E||void 0===E?void 0:E._id,name:b};t((0,y.AU)(e)),t((0,y.W3)(e)).then((function(e){var t=e.error,i=e.payload.totalCount;t||D(i)}))}),[t,c,M,10]),(0,h.jsxs)("div",{className:"pb-3 md:pb-10 pt-3 md:pt-8 w-screen md:w-full md:container",children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 items-center w-full px-5 sm:px-0",children:[(0,h.jsx)("button",{onClick:function(){O?null!==A&&void 0!==A&&A.is_active?e("/create_order"):X(!0):F(!0)},className:"hidden sm:flex uppercase shadow md:ml-0 w-fit h-fit bg-alotrade hover:bg-alotrade/80 focus:shadow-outline focus:outline-none text-white md:text-xs text-[10px] py-2 md:px-10 px-4 rounded",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"}),(0,h.jsx)("h2",{className:"md:text-[36px] text-[16px] font-bold justify-self-start sm:justify-self-center ml-2 md:ml-0",children:"\u0417\u0410\u041a\u0410\u0417\u042b"}),(0,h.jsx)(f.rU,{to:"/orders",className:"block uppercase shadow md:ml-0 justify-self-end w-fit h-fit  bg-orange-500 hover:bg-orange-400 focus:shadow-outline focus:outline-none text-white md:text-xs text-[10px] py-2 md:px-10 px-4 rounded",children:"\u0412\u0441\u0435 \u0437\u0430\u044f\u0432\u043a\u0438"})]}),(0,h.jsx)(j.default,{partialVisible:!0,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:2.3,slidesToSlide:1.3},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:540,min:0},items:1,slidesToSlide:1,partialVisibilityGutter:80}},sliderClass:"flex justify gap-[8px] md:gap-[10px]",autoPlay:!0,autoPlaySpeed:3e3,removeArrowOnDeviceType:["tablet","mobile"],infinite:!0,itemClass:"pb-5 pt-5",children:(0,Z.map)(s,(function(e){return(0,h.jsx)(N.Z,{translations:n,logged:O,order:e},(0,Z.uniqueId)())}))}),(0,h.jsx)(a.Z,{body:"warningSignIn",isOpen:U,typeOfWarning:"user",closeModal:function(){return F(!1)}}),(0,h.jsx)(a.Z,{body:"warningOrg",isOpen:R,closeModal:function(){return X(!1)},toggleModal:function(){return X(!1)}})]})},C=i(35165),I=i(98285),W=(i(12029),i(59515),i(27642),i(25520),function(){(0,d.s0)();var e=(0,l.I0)(),t=(0,m.Z)().width,i=(0,l.v9)((function(e){return e.login})),n=i.logged,s=i.userData.user,u=(0,l.v9)((function(e){return e.products})).products,c=(0,r.useState)(!1),x=(0,o.Z)(c,2),p=x[0],g=x[1];return(0,r.useEffect)((function(){var i=20;t<720&&(i=10);var n={page:0,count:i,user:null===s||void 0===s?void 0:s._id};e((0,I.Xp)(n))}),[e,t,s]),(0,h.jsxs)("div",{className:"flex flex-col mt-4",children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 items-center w-full px-3 sm:px-0",children:[(0,h.jsx)("div",{className:"hidden sm:flex"}),(0,h.jsx)("h2",{className:"md:text-[36px] text-[16px] font-bold justify-self-start sm:justify-self-center",children:"\u0422\u041e\u0412\u0410\u0420\u042b"}),(0,h.jsx)(f.rU,{to:"/products",className:"block uppercase shadow md:ml-0 justify-self-end w-fit h-fit  bg-orange-500 hover:bg-orange-400 focus:shadow-outline focus:outline-none text-white md:text-xs text-[10px] py-2 md:px-10 px-4 rounded",children:"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"})]}),(0,h.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 py-4 w-full h-fit items-stretch",children:(0,Z.map)(u,(function(e){return(0,h.jsx)(C.Z,{logged:n,product:e},(0,Z.uniqueId)())}))}),(0,h.jsx)(a.Z,{body:"warningSignIn",isOpen:p,typeOfWarning:"user",closeModal:function(){return g(!1)}})]})}),M=function(){var e,t,i=(0,l.I0)(),x=((0,d.s0)(),(0,r.useState)(!1)),p=(0,o.Z)(x,2),f=p[0],m=p[1],g=(0,r.useState)(null),v=(0,o.Z)(g,2),j=(v[0],v[1],(0,r.useState)(null)),y=(0,o.Z)(j,2),Z=y[0],S=y[1],k=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("/extra/bgimg");case 3:t=e.sent,S(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){k()}),[]);return(0,r.useEffect)((function(){i((0,c.K5)())}),[i]),(0,h.jsxs)("div",{id:"home",className:"relative overflow-y home-bgImg",children:[(0,h.jsx)(w,{bgImgs:Z}),(0,h.jsxs)("div",{className:"bg-white",children:[(0,h.jsx)(O,{}),(0,h.jsxs)("div",{class:"container px-0 md:px-4",children:[(null===Z||void 0===Z?void 0:Z.some((function(e){return e.extraimg1})))&&(0,h.jsx)("img",{src:null===Z||void 0===Z||null===(e=Z.filter((function(e){return e.extraimg1}))[0])||void 0===e?void 0:e.extraimg1,className:"w-full h-[130px] md:h-[300px] object-cover my-2 rounded-3xl"}),(0,h.jsx)(b,{}),(null===Z||void 0===Z?void 0:Z.some((function(e){return e.extraimg2})))&&(0,h.jsx)("img",{src:null===Z||void 0===Z||null===(t=Z.filter((function(e){return e.extraimg2}))[0])||void 0===t?void 0:t.extraimg2,className:"w-full h-[130px] md:h-[300px] object-cover my-2 rounded-3xl"}),(0,h.jsx)(W,{})]})]}),(0,h.jsx)(a.Z,{isOpen:f,body:"createOrder",toggleModal:function(){m(!f)},closeModal:function(){m(!1)}})]})}},16442:function(e,t,i){e.exports=i.p+"static/media/1.481166cefbecd0f6f619.png"},13771:function(e,t,i){e.exports=i.p+"static/media/2.c3a1dde29d8af31be096.png"},44017:function(e,t,i){e.exports=i.p+"static/media/3.5fb1b91fb1538413da2c.png"}}]);
//# sourceMappingURL=181.a65ab337.chunk.js.map