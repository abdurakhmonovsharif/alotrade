"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[767],{57767:function(e,t,n){n.r(t);var r=n(29439),i=n(72791),o=n(84341),a=n(21399),s=n(64608),l=n(59434),u=n(96691),c=n(763),d=n(54373),f=n(1546),g=n(33168),p=n(19169),v=n(75393),x=n(57689),h=n(16088),m=n(75454),b=n(80184);t.default=function(){var e,t=(0,l.I0)(),n=(0,x.TH)(),y=null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.error,j=(0,g.$)(["common"]).t,Z=(0,p.F)(j),w=(0,f.h)(j),S=(0,x.s0)(),C=(0,l.v9)((function(e){return e.login})),k=C.logged,_=C.userData,F=_.user,N=_.organization,O=(0,l.v9)((function(e){return e.orders})),M=O.orders,P=O.loading,T=(0,l.v9)((function(e){return e.filter})),z=T.order,B=T.categories,H=T.subcategories,I=T.subcategories2,D=T.tradetypes,V=T.regions,W=T.districts,A=T.name,E=(0,i.useState)(null),U=(0,r.Z)(E,2),q=U[0],X=U[1],$=(0,i.useState)(0),G=(0,r.Z)($,2),J=G[0],K=G[1],L=(0,i.useState)(0),Q=(0,r.Z)(L,2),R=Q[0],Y=Q[1],ee=(0,i.useState)(!1),te=(0,r.Z)(ee,2),ne=te[0],re=te[1],ie=(0,i.useState)(null),oe=(0,r.Z)(ie,2),ae=oe[0],se=oe[1],le=(0,i.useState)(!1),ue=(0,r.Z)(le,2),ce=ue[0],de=ue[1],fe=(0,i.useState)(null),ge=(0,r.Z)(fe,2),pe=ge[0],ve=ge[1],xe=(0,i.useState)(!1),he=(0,r.Z)(xe,2),me=he[0],be=he[1],ye=function(e){X(e),se("approve"),re(!0)},je=function(e){X(e),se("createOrder"),re(!0)};return(0,i.useEffect)((function(){window.history.replaceState({},document.title),be(void 0!=y),K(0);var e={page:0,count:10,order:z,categories:B,subcategories:H,subcategories2:I,tradetypes:[],regions:V,districts:W,user:null===F||void 0===F?void 0:F._id,name:""};t((0,u.AU)(e)),t((0,u.W3)(e)).then((function(e){var t=e.error,n=e.payload.totalCount;t||Y(n)}))}),[z,B,H,I,D,V,W,A]),(0,i.useEffect)((function(){var e={page:J,count:10,order:z,categories:B,subcategories:H,subcategories2:I,tradetypes:[],regions:V,districts:W,user:null===F||void 0===F?void 0:F._id,name:""};t((0,u.AU)(e)),t((0,u.W3)(e)).then((function(e){var t=e.error,n=e.payload.totalCount;t||Y(n)}))}),[t,z,J,10]),(0,b.jsxs)("div",{className:"w-full bg-white pb-10",children:[(0,b.jsx)("div",{className:"md:container",children:(0,b.jsxs)("div",{className:"w-full block md:flex",children:[(0,b.jsx)(v.Z,{filterBody:pe,filterVisible:ce,setFilterVisible:de}),(0,b.jsxs)("div",{className:"w-full px-4 md:px-4 flex flex-col gap-[20px]",children:[(0,b.jsx)(a.Z,{translations:Z,isOrganization:!!N,currentPage:J,countPage:10,totalDatas:R,setCurrentPage:K,count:R,onClick:function(){k?S("/create_order"):(se("warningSignIn"),re(!0),X(null))},countTitle:Z.jami,buttonTitle:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",handleFilter:function(e){var n=e.target.value;t((0,d.Xs)(n))},filterData:z,filter:w,setFilterBody:ve,setFilterVisible:de,mainTitle:"\u0417\u0430\u044f\u0432\u043a\u0438",filterBtnClick:function(){return de(!ce)}}),(0,b.jsx)("div",{className:"px-0 md:px-4 flex flex-col gap-[20px]",children:P?(0,b.jsx)(m.ZP,{}):(0,c.map)(M,(function(e){return(0,b.jsx)(s.Z,{translations:Z,logged:k,order:e,editHandler:je,deleteHandler:ye},(0,c.uniqueId)())}))}),R>0&&(0,b.jsx)("div",{className:"flex justify-center py-2",children:(0,b.jsx)(h.Z,{defaultPage:1,variant:"outlined",color:"primary",count:Math.ceil(R/10),page:J+1,onChange:function(e,t){K(t-1)}})})]})]})}),(0,b.jsx)(o.Z,{isOpen:ne,body:ae,closeModal:function(){re(!1)},toggleModal:function(){re(!ne)},typeOfWarning:"user",orderId:q,modalBody:ae,headerText:Z.buyurtmani_ochirish,title:Z.siz_buyurtmani_ochirishni_xohlaysizmi,approveFunction:function(){q&&t((0,u.wH)({id:q})).then((function(e){e.error||(re(!1),X(null))}))}}),(0,b.jsx)(o.Z,{body:"warningOrg",isOpen:me,closeModal:function(){return be(!1)},toggleModal:function(){return be(!1)}})]})}}}]);
//# sourceMappingURL=767.d0651ca3.chunk.js.map