"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[767],{7767:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var s=r(2791),a=r(4313),i=r(1399),l=r(4608),o=r(9434),n=r(6691),d=r(763),u=r(4373),c=r(1546),g=r(7879),p=r(9169),f=r(5393),x=r(7689),h=r(6088),m=r(5454),v=r(184);const b=()=>{var e;const t=(0,o.I0)(),r=(0,x.TH)(),b=null===r||void 0===r||null===(e=r.state)||void 0===e?void 0:e.error,{t:y}=(0,g.$)(["common"]),j=(0,p.F)(y),w=(0,c.h)(y),S=(0,x.s0)(),{logged:C,userData:{user:k,organization:Z}}=(0,o.v9)((e=>e.login)),{orders:_,loading:F}=(0,o.v9)((e=>e.orders)),{order:N,categories:O,subcategories:M,subcategories2:P,tradetypes:T,regions:z,districts:B,name:H}=(0,o.v9)((e=>e.filter)),[I,D]=(0,s.useState)(null),[V,W]=(0,s.useState)(0),[A,E]=(0,s.useState)(0),[U,q]=(0,s.useState)(!1),[X,$]=(0,s.useState)(null),[G,J]=(0,s.useState)(!1),[K,L]=(0,s.useState)(null),[Q,R]=(0,s.useState)(!1),Y=e=>{D(e),$("approve"),q(!0)},ee=e=>{D(e),$("createOrder"),q(!0)};return(0,s.useEffect)((()=>{window.history.replaceState({},document.title),R(void 0!=b),W(0);const e={page:0,count:10,order:N,categories:O,subcategories:M,subcategories2:P,tradetypes:[],regions:z,districts:B,user:null===k||void 0===k?void 0:k._id,name:""};t((0,n.AU)(e)),t((0,n.W3)(e)).then((e=>{let{error:t,payload:{totalCount:r}}=e;t||E(r)}))}),[N,O,M,P,T,z,B,H]),(0,s.useEffect)((()=>{const e={page:V,count:10,order:N,categories:O,subcategories:M,subcategories2:P,tradetypes:[],regions:z,districts:B,user:null===k||void 0===k?void 0:k._id,name:""};t((0,n.AU)(e)),t((0,n.W3)(e)).then((e=>{let{error:t,payload:{totalCount:r}}=e;t||E(r)}))}),[t,N,V,10]),(0,v.jsxs)("div",{className:"w-full bg-white pb-10",children:[(0,v.jsx)("div",{className:"md:container",children:(0,v.jsxs)("div",{className:"w-full block md:flex",children:[(0,v.jsx)(f.Z,{filterBody:K,filterVisible:G,setFilterVisible:J}),(0,v.jsxs)("div",{className:"w-full px-4 md:px-4 flex flex-col gap-[20px]",children:[(0,v.jsx)(i.Z,{translations:j,isOrganization:!!Z,currentPage:V,countPage:10,totalDatas:A,setCurrentPage:W,count:A,onClick:()=>{C?S("/create_order"):($("warningSignIn"),q(!0),D(null))},countTitle:j.jami,buttonTitle:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",handleFilter:e=>{const r=e.target.value;t((0,u.Xs)(r))},filterData:N,filter:w,setFilterBody:L,setFilterVisible:J,mainTitle:"\u0417\u0430\u044f\u0432\u043a\u0438",filterBtnClick:()=>J(!G)}),(0,v.jsx)("div",{className:"px-0 md:px-4 flex flex-col gap-[20px]",children:F?(0,v.jsx)(m.ZP,{}):(0,d.map)(_,(e=>(0,v.jsx)(l.Z,{translations:j,logged:C,order:e,editHandler:ee,deleteHandler:Y},(0,d.uniqueId)())))}),A>0&&(0,v.jsx)("div",{className:"flex justify-center py-2",children:(0,v.jsx)(h.Z,{defaultPage:1,variant:"outlined",color:"primary",count:Math.ceil(A/10),page:V+1,onChange:(e,t)=>{W(t-1)}})})]})]})}),(0,v.jsx)(a.Z,{isOpen:U,body:X,closeModal:()=>{q(!1)},toggleModal:()=>{q(!U)},typeOfWarning:"user",orderId:I,modalBody:X,headerText:j.buyurtmani_ochirish,title:j.siz_buyurtmani_ochirishni_xohlaysizmi,approveFunction:()=>{I&&t((0,n.wH)({id:I})).then((e=>{let{error:t}=e;t||(q(!1),D(null))}))}}),(0,v.jsx)(a.Z,{body:"warningOrg",isOpen:Q,closeModal:()=>R(!1),toggleModal:()=>R(!1)})]})}}}]);
//# sourceMappingURL=767.784892c4.chunk.js.map